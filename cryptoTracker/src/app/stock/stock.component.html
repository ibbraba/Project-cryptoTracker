<div *ngIf="loader.loading$ | async">

  <mat-progress-spinner [mode]="'indeterminate'"></mat-progress-spinner>
</div>


<div style="text-align: center">
  <button class="text-center btn btn-primary" (click)="callAllStocks()">Fetch yesterday stocks prices</button>
  <button class="btn btn-info" (click)="callRangeData()"> Call Apple range Data </button>
  <button class="btn btn-info" (click)="getChart()">Get Charts </button>
</div>




<div STYLE="display: flex; flex-direction: row; justify-content: space-around">

  <div *ngIf="RangeData">
    <p>Data : {{RangeData.results[0].o | json}} </p>

  </div>


  <div class="stockErrors" *ngIf="error, else stockResult">
    <span class="text-danger">An error has occured please try again later. </span>
  </div>

<ng-template #stockResult>
  <div CLASS="card bg-primary text-white card-margin" *ngFor="let option of StockResult"  >





  <h3>{{option.ticker}} </h3>
  <span class="stock-currentPrice">Ouvert: {{option.results[0].o}}</span>
  <span class="stock-currentPrice mb-3">Fermé: {{option.results[0].c}}</span>

    <a class="btn btn-light" routerLink="/detail/{{option.ticker}}">Voir les Détails </a>

  </div>


</ng-template>
</div>




<!--<div *ngIf="loader.loading$ | async ">-->
<!--<mat-progress-spinner [mode]="'indeterminate'"></mat-progress-spinner>-->
<!--</div>-->






